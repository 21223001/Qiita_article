


### In a nutshell
スイッチングハブは，複数のネットワーク機器を効率的に接続し，MACアドレスを用いてデータを転送する．リピーターハブに対して，データの無駄な転送を避け，ネットワーク効率を向上させる役割を果たす．また，全二重通信，MACアドレステーブル学習機能，そしてセキュリティ面での優れた利点を提供し，大規模なネットワークや高いセキュリティを要求する環境での使用が推奨される．

### スイッチングハブとは
複数のネットワーク機器を接続してデータを転送する為に使用する
データリンク層(第2層)で動作し，MACアドレスを使ってデバイス間でデータを転送する

#### 主な特徴
 - データ転送の効率化：スイッチは，受信したデータを宛先のMACアドレスに基づいて適切なポートにのみ転送する．これにより，無駄な通信を減らしネットワークの効率が向上する．
 - 全二重通信：多くのスイッチングハブは，全二重通信をサポートしており，データの送受信が同時に可能．これにより，通信速度が向上する．
 - レイヤ2スイッチング：主にMACアドレスに基づいてデータを転送するため，データリンク層で動作する．但し，一部のスイッチは，レイヤ3(IPアドレス)でのルーティング機能をもつ．


### 単なるハブ(リピータハブ)との違い

データ転送の仕組みと効率が異なる．

#### データ転送方式

 - リピーターハブは，受信したデータを接続されているすべてのポートに対して一斉に転送する(ブロードキャスト)．これにより，全てのデバイスに同じデータが送信される．したがって，目的以外のデバイスには不要なデータが届く事になる．
 - スイッチングハブは，宛先のMACアドレスを基に，データを必要なポートにのみ転送する．したがって，特定のデバイスのみデータを受け渡す．

#### ネットワーク効率
 - リピーターハブは，ブロードキャストを行う為，ネットワークの負担が増える．特にデバイスが多くなると，データ衝突(コリジョン)が発生しやすくなる．コリジョンが発生すると再送信が必要になる為，さらにネットワーク速度が低下する．
 - スイッチングハブは，必要なポートにだけデータを送るため衝突が少なくなり，ネットワーク全体の効率が向上する．また，通常は全二重通信(送信と受信が同時に行える)をサポートしており，より高速で安定した通信が可能．

#### ネットワーク分割
 - リピーターハブは，接続されたすべてのデバイスが同じネットワークセグメントに所属している為，ネットワークが拡大するとトラフィックが多くなりパフォーマンスが低下する．
 - スイッチングハブは，接続されている各デバイスに対して，仮想的に独立した通信路を提供する．これにより，各デバイス間での通信は衝突を避けて効率的に行われ，全体的なパフォーマンスが向上する．

#### 学習機能
 - リピーターハブは，単にデータを仲介するだけでデバイスの情報を学習する事は無い．
 - スイッチングハブは，接続されているデバイスのMACアドレステーブルを学習し，デバイスとポートの対応関係を記録する．


### セキュリティの観点
ネットワーク効率だけでなく，セキュリティの観点からも，データをブロードキャストしないことには意味がある．

#### 情報漏洩の防止
 - リピータハブでは，データはブロードキャストされる．これにより，不正アクセスやスニファー(パケットキャプチャツール)によるデータの傍受のリスクが高まる．
 - スイッチングハブでは，データは特定のデバイスにのみ転送される．これにより，情報漏洩のリスクを低減できる．

#### ネットワークトラフィックの削減
 - リピーターハブでは，ブロードキャストによる不要なトラフィックが多い事から，DDoS攻撃などが容易に成立しやすくなる．
 - スイッチングハブでは，トラフィックを適切に制御できるため，無駄なデータの送信を防ぐ事で，攻撃によるリスクが減少する．

#### 攻撃の特定と封じ込め
 - リピーターハブでは，データがブロードキャストされる．その為攻撃が発生した場合に，その攻撃源を特定するのが難しくなることがある．また，ネットワーク全体に広がる為，被害の範囲が広がってしまう．
 - スイッチングハブでは，特定のポートに対して機能する為，攻撃は特定の端末に限定され，攻撃源を特定して封じ込める事に貢献する．

#### ARPスプーフィング対策
 - ARPスプーフィングとは，攻撃者が偽のMACアドレスを送信してターゲットデバイスへの通信を乗っ取る攻撃である．リピーターハブはブロードキャストの為，攻撃者は簡単に他のデバイスに介入する可能性がある．
 - スイッチングハブでは，通信が特定のポートに限定される為，ARPスプーフィングを検出し易く，被害を最小限に抑えることができる．

#### セグメンテーションの利点
スイッチングハブを使うことで，ネットワークを論理的にセグメント化することができる．これにより，各セグメント間の通信は制御され，セグメント内で問題が発生しても全体に対して影響を与える事を防げる可能性がある．



### スイッチングハブが必要となる閾値について
依存すると考えられるのは，ネットワークの規模，通信量，セキュリティ要件について

#### 接続デバイスの数
リピータハブは，数台程度のデバイスでは問題なく機能するが，接続デバイスが増えるにつれてトラフィックの衝突等が多くなり，ネットワークの効率が低下する．一般的には，10台以上のデバイスが接続される場合には，トラフィック管理やパフォーマンスの面でスイッチングハブの方が効率的となる．

#### 通信量とネットワークのトラフィック
通信量が多い場合，リピーターハブではブロードキャストによりトラフィックの衝突が増えて通信速度が低下する．高トラフィック環境(例えば，1Gbps以上の帯域幅が必要なネットワーク)では，スイッチングハブが必須となる．

#### セキュリティ要件
高度なセキュリティが求められるネットワーク，例えば企業や機密データを扱うネットワークでは，スイッチングハブが必須となる．スイッチングハブにより不正アクセスや情報漏洩のリスクを低減できる．
セキュリティを重視する場合には，ネットワーク規模が小さくてもスイッチングハブが推奨される．

#### ネットワークの拡張性と将来の成長
ネットワークを拡張する可能性が高い場合や，新しいデバイスやが追加されることが予想される場合は将来のトラフィック増加にも対応できるスイッチングハブが有利．

#### ネットワークのトラブルシューティングと管理機能
スイッチングハブには，管理機能やネットワークトラフィックのモニタリング機能が搭載されているものがある．これにより，ネットワークの問題を早期に発見し，対処することができる．
管理機能が必要な場合や，トラフィックの監視が求められる場合は，スイッチングハブが推奨される．


### Summmary
 - スイッチングハブはデータリンク層で動作し，MACアドレスに基づいてデータを転送する．よって，宛先にのみデータを転送して無駄な通信が減少する．
 - 全二重通信，同時送受信をサポートし，通信速度が向上する．
 - 情報漏洩リスクを減少し，ネットワーク攻撃の特定と封じ込めが容易．
 - スイッチングハブは衝突が少なく，ネットワーク効率が向上する．
 - スイッチングハブはネットワークを論理的に分割し，効率化する．
 - 10台以上のデバイスや高トラフィック環境では，スイッチングハブが効率的．
 - 高度なセキュリティが求められる環境や，ネットワーク管理機能が必要な場合にもスイッチングハブが推奨．



### 参考文献
 - Tanenbaum, A. S., & Wetherall, D. J. (2010). Computer Networks (5th ed.). Prentice Hall.
 - Forouzan, B. A. (2013). Data Communications and Networking (5th ed.). McGraw-Hill.
 - Cisco Systems, Inc. (2020). Cisco Networking Basics. Cisco Systems, Inc.


